(this.webpackJsonpmovinfo=this.webpackJsonpmovinfo||[]).push([[0],{17:function(e,t,c){},27:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(21),r=c.n(s),i=(c(27),c(8)),o=c(2),l=c(14),j=c(4),d=c.p+"static/media/image404.2c7c28d0.jpg",b=(c(17),c(9)),u=c.n(b),h=c.p+"static/media/bookmark-1.c85c9d9c.svg",m=c(1);var v=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(j.a)(s,2),o=r[0],b=r[1],v=Object(n.useState)(null),f=Object(j.a)(v,2),O=(f[0],f[1]),g=Object(n.useRef)(),p=Object(n.useState)([]),x=Object(j.a)(p,2),N=x[0],_=x[1],k="e0e9872a83bd28fe24d2a0e74ec4ad49";function w(e){e.preventDefault(),fetch("https://api.themoviedb.org/3/search/movie?api_key="+k+"&query="+g.current.value).then((function(e){if(e.ok)return e.json();O(e)})).then((function(e){_(e)}))}return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e0e9872a83bd28fe24d2a0e74ec4ad49").then((function(e){if(e.ok)return e.json()})).then((function(e){a(e.genres)}))}),[]),Object(n.useEffect)((function(){!function(){var e=[];c.forEach((function(t){var n=t.name;e[t]=[];var a="https://api.themoviedb.org/3/discover/movie?api_key=e0e9872a83bd28fe24d2a0e74ec4ad49&with_genres="+t.id;fetch(a).then((function(e){if(e.ok)return e.json();O(e)})).then((function(e){o.length<c.length&&b((function(t){return[].concat(Object(l.a)(t),[{genre:n,data:[e]}])}))}))})),b(e)}()}),[c]),Object(m.jsxs)("div",{className:"landing-page",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"Banner",children:"Movinfo"}),Object(m.jsxs)("form",{onSubmit:w,className:"search-bar",children:[Object(m.jsx)("input",{type:"text",className:"search-input",placeholder:"Enter movie name to search...",ref:g}),Object(m.jsx)("button",{type:"submit",className:"search-btn",onClick:w,children:"Search"})]})]}),Object(m.jsxs)("div",{className:"genre-map",children:[N&&N.results&&N.results.length>0&&Object(m.jsxs)("div",{className:"genre-block",children:[Object(m.jsx)("div",{className:"genre-header",children:"Search Results ..."}),Object(m.jsx)("div",{className:"genre-movies",children:N.results&&N.results.map((function(e){var t=u()(e.original_title,"-");return t=t.toLowerCase(),Object(m.jsxs)("div",{className:"movie",children:[Object(m.jsx)(i.b,{to:"/".concat(t,"/"),onClick:function(){localStorage.setItem(t,e.id)},children:Object(m.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/"+e.poster_path,className:"movie-poster",onError:function(e){e.target.onerror=null,e.target.src=d}})}),e.original_title,e.release_date&&" (".concat(e.release_date.slice(0,4),")")]})}))})]}),o&&o.length>0&&o.map((function(e,t){return Object(m.jsxs)("div",{className:"genre-block",children:[Object(m.jsx)("div",{className:"genre-header",children:e.genre}),Object(m.jsx)("div",{className:"genre-movies",children:e.data[0].results&&e.data[0].results.map((function(e){var t=u()(e.original_title,"-");return t=t.toLowerCase(),Object(m.jsxs)("div",{className:"movie",children:[Object(m.jsx)(i.b,{to:"/".concat(t,"/"),onClick:function(){localStorage.setItem(t,e.id)},children:Object(m.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/"+e.poster_path,alt:"image",className:"movie-poster",onError:function(e){e.target.onerror=null,e.target.src=d}})}),e.original_title,e.release_date&&" (".concat(e.release_date.slice(0,4),")")]})}))})]},t)}))]}),Object(m.jsx)(i.b,{to:"/bookmarks",children:Object(m.jsx)("div",{className:"bookmarks",children:Object(m.jsx)("img",{src:h,alt:"image"})})})]})};var f=function(){var e=Object(o.f)().slugPath,t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!1),i=Object(j.a)(r,2),l=i[0],b=i[1],h=Object(n.useState)([]),v=Object(j.a)(h,2),f=v[0],O=v[1],g=Object(n.useState)([]),p=Object(j.a)(g,2),x=p[0],N=p[1],_=Object(n.useState)([]),k=Object(j.a)(_,2),w=k[0],S=k[1],E=Object(n.useState)(null),C=Object(j.a)(E,2),y=C[0],I=C[1],B="e0e9872a83bd28fe24d2a0e74ec4ad49",F="https://api.themoviedb.org/3/movie/".concat(a,"?api_key=")+B,L="https://api.themoviedb.org/3/movie/".concat(a,"/credits?api_key=")+B;return Object(n.useEffect)((function(){s(localStorage.getItem(e)),console.log(a)}),[]),Object(n.useEffect)((function(){fetch(F).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){O(e),localStorage.getItem(e.id)?b(!0):b(!1);var t=parseFloat(e.vote_average);t=t/10*100,document.querySelector(".stars-inner").style.width=t+"%"}))}),[a]),Object(n.useEffect)((function(){fetch(L).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){N(e);var t,c,n=e.cast,a=(t="order",c="123",n.sort((function(e,n){var a=e[t],s=n[t];return"123"===c?a<s?-1:a>s?1:0:"321"===c?a>s?-1:a<s?1:0:void 0})));S(a),console.log(a)}))}),[a]),Object(n.useEffect)((function(){if(x&&x.crew){var e=x.crew.find((function(e){return"Director"===e.job}));e&&I(e)}}),[x]),Object(n.useEffect)((function(){}),[localStorage]),Object(m.jsx)("div",{className:"landing-page",children:f&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"Banner",children:"Movinfo"}),l?Object(m.jsx)("div",{className:"button-parent",children:Object(m.jsx)("button",{className:"btn",onClick:function(){return localStorage.removeItem(f.id),void b(!1)},children:"Remove Bookmark"})}):Object(m.jsx)("div",{className:"button-parent",children:Object(m.jsx)("button",{className:"btn",onClick:function(){return function(){var e=u()(f.original_title,"-");localStorage.setItem(f.id,e),b(!0)}()},children:"Bookmark"})})]}),Object(m.jsx)("div",{className:"movieBox",children:Object(m.jsxs)("div",{className:"movieContainer",children:[Object(m.jsx)("div",{className:"imageContainer",children:Object(m.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/"+f.poster_path,className:"image",onError:function(e){e.target.onerror=null,e.target.src=d}})}),Object(m.jsx)("div",{className:"detailsContainer",children:Object(m.jsxs)("div",{className:"secondLevelContainer",children:[Object(m.jsxs)("div",{className:"movie-heading",children:[Object(m.jsxs)("div",{className:"movie-title",children:[f.original_title," ( ",0==f.vote_average?"Unrated":parseFloat(f.vote_average)/2," )"]}),Object(m.jsx)("div",{class:"stars-outer",children:Object(m.jsx)("div",{class:"stars-inner"})})]}),Object(m.jsxs)("div",{id:"row2",children:[f.release_date&&"".concat(f.release_date.slice(0,4)," | "),f.runtime&&"".concat(f.runtime," mins")+" | ",y&&y.name]}),Object(m.jsxs)("div",{id:"row3",children:[Object(m.jsx)("span",{className:"row3-head",children:"Cast:"}),w&&w.length>0&&w.slice(0,4).map((function(e,t){return Object(m.jsx)("span",{children:t<3?"".concat(e.name)+", ":"".concat(e.name)},t)}))]}),Object(m.jsxs)("div",{id:"row4",children:["Plot: ",f.overview]})]})})]})})]})})};var O=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(j.a)(s,2),o=r[0],b=r[1];return Object(n.useEffect)((function(){var e=[];for(var t in localStorage){var c=parseInt(t);isNaN(c)||e.push(t)}a(e)}),[]),Object(n.useEffect)((function(){c.forEach((function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=")+"e0e9872a83bd28fe24d2a0e74ec4ad49";fetch(t).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){b((function(t){return[].concat(Object(l.a)(t),[e])}))})).catch((function(e){return console.log(e)}))}))}),[c]),Object(m.jsxs)("div",{className:"landing-page",children:[Object(m.jsx)("div",{className:"header",children:Object(m.jsx)("div",{className:"Banner",children:"Movinfo"})}),Object(m.jsx)("div",{className:"bookmark-container",children:Object(m.jsx)("div",{className:"inner-bookmark-container",children:o.length>0&&o.map((function(e,t){console.log(e);var c=u()(e.original_title,"-").toLowerCase();return Object(m.jsxs)("div",{className:"cards",children:[e.original_title,Object(m.jsx)(i.b,{to:"/".concat(c),children:Object(m.jsx)("img",{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/"+e.poster_path,className:"image-bookmark",onError:function(e){e.target.onerror=null,e.target.src=d}})})]},t)}))})})]})};c(34);var g=function(){return Object(m.jsx)(i.a,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",component:v}),Object(m.jsx)(o.a,{exact:!0,path:"/bookmarks",component:O}),Object(m.jsx)(o.a,{exact:!0,path:"/:slugPath/",component:f})]})})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,36)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),p()}},[[35,1,2]]]);
//# sourceMappingURL=main.5e61708c.chunk.js.map